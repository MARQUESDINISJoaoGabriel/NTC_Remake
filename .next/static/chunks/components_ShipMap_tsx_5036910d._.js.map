{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/up2524430/NTC_Remake/components/ShipMap.tsx"],"sourcesContent":["\"use client\";\r\nimport { MapContainer, TileLayer, Marker, Popup } from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { MapPin, Navigation, Users } from \"lucide-react\";\r\n\r\n// Enhanced ship icon with custom styling\r\nconst shipIcon = new L.Icon({\r\n  iconUrl: \"/images/ship-marker.png\",\r\n  iconSize: [36, 36],\r\n  iconAnchor: [18, 36],\r\n  popupAnchor: [0, -36],\r\n  shadowUrl: \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHZpZXdCb3g9IjAgMCA0MCA0MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPGVsbGlwc2UgY3g9IjIwIiBjeT0iMzUiIHJ4PSIxNSIgcnk9IjUiIGZpbGw9InJnYmEoMCwwLDAsMC4zKSIvPgo8L3N2Zz4K\",\r\n  shadowSize: [40, 40],\r\n  shadowAnchor: [20, 35],\r\n});\r\n\r\ntype ShipUnit = {\r\n  name: string;\r\n  location: string;\r\n  lat: number;\r\n  lng: number;\r\n  cadets?: number;\r\n  meetingDay?: string;\r\n  contactEmail?: string;\r\n};\r\n\r\nexport default function ShipMap({ units }: { units: ShipUnit[] }) {\r\n  const [mapReady, setMapReady] = useState(false);\r\n  const [selectedUnit, setSelectedUnit] = useState<ShipUnit | null>(null);\r\n\r\n  useEffect(() => {\r\n    setMapReady(true);\r\n  }, []);\r\n\r\n  if (!mapReady) {\r\n    return (\r\n      <div className=\"w-full h-[500px] rounded-2xl overflow-hidden shadow-lg bg-gradient-to-br from-slate-100 to-slate-200 flex items-center justify-center\">\r\n        <div className=\"text-center\">\r\n          <div className=\"w-12 h-12 border-4 border-ntcBlue border-t-transparent rounded-full animate-spin mx-auto mb-4\"></div>\r\n          <p className=\"text-slate-600 font-medium\">Loading map...</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full space-y-6\">\r\n      {/* Map Header */}\r\n      <div className=\"text-center\">\r\n        <h2 className=\"text-3xl font-bold text-slate-800 mb-2\">Find Your Local Unit</h2>\r\n        <p className=\"text-slate-600 max-w-2xl mx-auto\">\r\n          Discover NTC units across the country. Click on any marker to learn more about that unit.\r\n        </p>\r\n      </div>\r\n\r\n      {/* Map Container */}\r\n      <div className=\"relative\">\r\n        <div className=\"w-full h-[500px] rounded-2xl overflow-hidden shadow-xl border border-slate-200 relative\">\r\n          <MapContainer \r\n            center={[51.5, -0.12]} \r\n            zoom={6} \r\n            style={{ height: \"100%\", width: \"100%\" }}\r\n            className=\"z-10\"\r\n          >\r\n            <TileLayer\r\n              attribution='&copy; <a href=\"https://www.openstreetmap.org\">OpenStreetMap</a> contributors'\r\n              url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n            />\r\n            {units.map((unit, index) => (\r\n              <Marker \r\n                key={index} \r\n                position={[unit.lat, unit.lng]} \r\n                icon={shipIcon}\r\n                eventHandlers={{\r\n                  click: () => setSelectedUnit(unit),\r\n                }}\r\n              >\r\n                <Popup className=\"custom-popup\">\r\n                  <div className=\"p-3 min-w-[250px]\">\r\n                    <div className=\"flex items-start gap-3 mb-3\">\r\n                      <div className=\"w-10 h-10 bg-ntcBlue rounded-full flex items-center justify-center flex-shrink-0\">\r\n                        <Navigation className=\"w-5 h-5 text-white\" />\r\n                      </div>\r\n                      <div>\r\n                        <h3 className=\"font-bold text-slate-800 text-lg\">{unit.name}</h3>\r\n                        <p className=\"text-slate-600 text-sm flex items-center gap-1\">\r\n                          <MapPin className=\"w-3 h-3\" />\r\n                          {unit.location}\r\n                        </p>\r\n                      </div>\r\n                    </div>\r\n                    \r\n                    {unit.cadets && (\r\n                      <div className=\"flex items-center gap-2 text-sm text-slate-600 mb-2\">\r\n                        <Users className=\"w-4 h-4\" />\r\n                        <span>{unit.cadets} active cadets</span>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    {unit.meetingDay && (\r\n                      <div className=\"text-sm text-slate-600 mb-2\">\r\n                        <strong>Meets:</strong> {unit.meetingDay}\r\n                      </div>\r\n                    )}\r\n                    \r\n                    {unit.contactEmail && (\r\n                      <div className=\"text-sm mb-3\">\r\n                        <a \r\n                          href={`mailto:${unit.contactEmail}`}\r\n                          className=\"text-ntcBlue hover:underline\"\r\n                        >\r\n                          Contact Unit\r\n                        </a>\r\n                      </div>\r\n                    )}\r\n                    \r\n                    <button className=\"w-full bg-ntcBlue text-white py-2 px-4 rounded-lg text-sm font-medium hover:bg-blue-600 transition-colors\">\r\n                      Learn More\r\n                    </button>\r\n                  </div>\r\n                </Popup>\r\n              </Marker>\r\n            ))}\r\n          </MapContainer>\r\n          \r\n          {/* Map Controls Overlay */}\r\n          <div className=\"absolute top-4 left-4 z-20\">\r\n            <div className=\"bg-white/90 backdrop-blur-sm rounded-lg p-3 shadow-lg border border-slate-200\">\r\n              <div className=\"flex items-center gap-2 text-sm text-slate-700\">\r\n                <MapPin className=\"w-4 h-4 text-ntcBlue\" />\r\n                <span className=\"font-medium\">{units.length} Units Found</span>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Unit Statistics */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6\">\r\n        <div className=\"bg-white rounded-xl p-6 shadow-lg border border-slate-200 text-center\">\r\n          <div className=\"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n            <Navigation className=\"w-6 h-6 text-ntcBlue\" />\r\n          </div>\r\n          <h3 className=\"text-2xl font-bold text-slate-800\">{units.length}</h3>\r\n          <p className=\"text-slate-600\">Active Units</p>\r\n        </div>\r\n        \r\n        <div className=\"bg-white rounded-xl p-6 shadow-lg border border-slate-200 text-center\">\r\n          <div className=\"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n            <Users className=\"w-6 h-6 text-green-600\" />\r\n          </div>\r\n          <h3 className=\"text-2xl font-bold text-slate-800\">\r\n            {units.reduce((total, unit) => total + (unit.cadets || 0), 0)}\r\n          </h3>\r\n          <p className=\"text-slate-600\">Total Cadets</p>\r\n        </div>\r\n        \r\n        <div className=\"bg-white rounded-xl p-6 shadow-lg border border-slate-200 text-center\">\r\n          <div className=\"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-3\">\r\n            <MapPin className=\"w-6 h-6 text-purple-600\" />\r\n          </div>\r\n          <h3 className=\"text-2xl font-bold text-slate-800\">UK Wide</h3>\r\n          <p className=\"text-slate-600\">Coverage</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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","debugId":null}}]
}